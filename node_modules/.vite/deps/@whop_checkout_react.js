import {
  __toESM,
  require_react
} from "./chunk-I4MZPW7S.js";

// node_modules/@whop/checkout/dist/static/checkout/chunk-4NKKJ5O4.mjs
function e(e3, t3) {
  if (t3 == null || t3 > e3.length) t3 = e3.length;
  for (var r3 = 0, n3 = new Array(t3); r3 < t3; r3++) n3[r3] = e3[r3];
  return n3;
}
function t(e3) {
  if (Array.isArray(e3)) return e3;
}
function r(e3) {
  if (e3 === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return e3;
}
function n(e3, t3, r3, n3, o3, a3, i3) {
  try {
    var s3 = e3[a3](i3);
    var u3 = s3.value;
  } catch (e4) {
    r3(e4);
    return;
  }
  if (s3.done) {
    t3(u3);
  } else {
    Promise.resolve(u3).then(n3, o3);
  }
}
function o(e3) {
  return function() {
    var t3 = this, r3 = arguments;
    return new Promise(function(o3, a3) {
      var i3 = e3.apply(t3, r3);
      function s3(e4) {
        n(i3, o3, a3, s3, u3, "next", e4);
      }
      function u3(e4) {
        n(i3, o3, a3, s3, u3, "throw", e4);
      }
      s3(void 0);
    });
  };
}
function a(e3, t3, r3) {
  t3 = d(t3);
  return g(e3, q() ? Reflect.construct(t3, r3 || [], d(e3).constructor) : t3.apply(e3, r3));
}
function i(e3, t3) {
  if (!(e3 instanceof t3)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function s(e3, t3, r3) {
  if (q()) {
    s = Reflect.construct;
  } else {
    s = function e4(e4, t4, r4) {
      var n3 = [null];
      n3.push.apply(n3, t4);
      var o3 = Function.bind.apply(e4, n3);
      var a3 = new o3();
      if (r4) _(a3, r4.prototype);
      return a3;
    };
  }
  return s.apply(null, arguments);
}
function u(e3, t3) {
  for (var r3 = 0; r3 < t3.length; r3++) {
    var n3 = t3[r3];
    n3.enumerable = n3.enumerable || false;
    n3.configurable = true;
    if ("value" in n3) n3.writable = true;
    Object.defineProperty(e3, n3.key, n3);
  }
}
function l(e3, t3, r3) {
  if (t3) u(e3.prototype, t3);
  if (r3) u(e3, r3);
  return e3;
}
function c(e3, t3, r3) {
  if (t3 in e3) {
    Object.defineProperty(e3, t3, { value: r3, enumerable: true, configurable: true, writable: true });
  } else {
    e3[t3] = r3;
  }
  return e3;
}
function d(e3) {
  d = Object.setPrototypeOf ? Object.getPrototypeOf : function e4(e4) {
    return e4.__proto__ || Object.getPrototypeOf(e4);
  };
  return d(e3);
}
function f(e3, t3) {
  if (typeof t3 !== "function" && t3 !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } });
  if (t3) _(e3, t3);
}
function v(e3, t3) {
  if (t3 != null && typeof Symbol !== "undefined" && t3[Symbol.hasInstance]) {
    return !!t3[Symbol.hasInstance](e3);
  } else {
    return e3 instanceof t3;
  }
}
function h(e3) {
  return Function.toString.call(e3).indexOf("[native code]") !== -1;
}
function p(e3, t3) {
  var r3 = e3 == null ? null : typeof Symbol !== "undefined" && e3[Symbol.iterator] || e3["@@iterator"];
  if (r3 == null) return;
  var n3 = [];
  var o3 = true;
  var a3 = false;
  var i3, s3;
  try {
    for (r3 = r3.call(e3); !(o3 = (i3 = r3.next()).done); o3 = true) {
      n3.push(i3.value);
      if (t3 && n3.length === t3) break;
    }
  } catch (e4) {
    a3 = true;
    s3 = e4;
  } finally {
    try {
      if (!o3 && r3["return"] != null) r3["return"]();
    } finally {
      if (a3) throw s3;
    }
  }
  return n3;
}
function m() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function y(e3) {
  for (var t3 = 1; t3 < arguments.length; t3++) {
    var r3 = arguments[t3] != null ? arguments[t3] : {};
    var n3 = Object.keys(r3);
    if (typeof Object.getOwnPropertySymbols === "function") {
      n3 = n3.concat(Object.getOwnPropertySymbols(r3).filter(function(e4) {
        return Object.getOwnPropertyDescriptor(r3, e4).enumerable;
      }));
    }
    n3.forEach(function(t4) {
      c(e3, t4, r3[t4]);
    });
  }
  return e3;
}
function b(e3, t3) {
  var r3 = Object.keys(e3);
  if (Object.getOwnPropertySymbols) {
    var n3 = Object.getOwnPropertySymbols(e3);
    if (t3) {
      n3 = n3.filter(function(t4) {
        return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
      });
    }
    r3.push.apply(r3, n3);
  }
  return r3;
}
function w(e3, t3) {
  t3 = t3 != null ? t3 : {};
  if (Object.getOwnPropertyDescriptors) {
    Object.defineProperties(e3, Object.getOwnPropertyDescriptors(t3));
  } else {
    b(Object(t3)).forEach(function(r3) {
      Object.defineProperty(e3, r3, Object.getOwnPropertyDescriptor(t3, r3));
    });
  }
  return e3;
}
function g(e3, t3) {
  if (t3 && (O(t3) === "object" || typeof t3 === "function")) {
    return t3;
  }
  return r(e3);
}
function _(e3, t3) {
  _ = Object.setPrototypeOf || function e4(e4, t4) {
    e4.__proto__ = t4;
    return e4;
  };
  return _(e3, t3);
}
function P(e3, r3) {
  return t(e3) || p(e3, r3) || k(e3, r3) || m();
}
function O(e3) {
  "@swc/helpers - typeof";
  return e3 && typeof Symbol !== "undefined" && e3.constructor === Symbol ? "symbol" : typeof e3;
}
function k(t3, r3) {
  if (!t3) return;
  if (typeof t3 === "string") return e(t3, r3);
  var n3 = Object.prototype.toString.call(t3).slice(8, -1);
  if (n3 === "Object" && t3.constructor) n3 = t3.constructor.name;
  if (n3 === "Map" || n3 === "Set") return Array.from(n3);
  if (n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3)) return e(t3, r3);
}
function E(e3) {
  var t3 = typeof Map === "function" ? /* @__PURE__ */ new Map() : void 0;
  E = function e4(e4) {
    if (e4 === null || !h(e4)) return e4;
    if (typeof e4 !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }
    if (typeof t3 !== "undefined") {
      if (t3.has(e4)) return t3.get(e4);
      t3.set(e4, r3);
    }
    function r3() {
      return s(e4, arguments, d(this).constructor);
    }
    r3.prototype = Object.create(e4.prototype, { constructor: { value: r3, enumerable: false, writable: true, configurable: true } });
    return _(r3, e4);
  };
  return E(e3);
}
function q() {
  try {
    var e3 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    }));
  } catch (e4) {
  }
  return (q = function() {
    return !!e3;
  })();
}
function j(e3, t3) {
  var r3, n3, o3, a3 = { label: 0, sent: function() {
    if (o3[0] & 1) throw o3[1];
    return o3[1];
  }, trys: [], ops: [] }, i3 = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
  return i3.next = s3(0), i3["throw"] = s3(1), i3["return"] = s3(2), typeof Symbol === "function" && (i3[Symbol.iterator] = function() {
    return this;
  }), i3;
  function s3(e4) {
    return function(t4) {
      return u3([e4, t4]);
    };
  }
  function u3(s4) {
    if (r3) throw new TypeError("Generator is already executing.");
    while (i3 && (i3 = 0, s4[0] && (a3 = 0)), a3) try {
      if (r3 = 1, n3 && (o3 = s4[0] & 2 ? n3["return"] : s4[0] ? n3["throw"] || ((o3 = n3["return"]) && o3.call(n3), 0) : n3.next) && !(o3 = o3.call(n3, s4[1])).done) return o3;
      if (n3 = 0, o3) s4 = [s4[0] & 2, o3.value];
      switch (s4[0]) {
        case 0:
        case 1:
          o3 = s4;
          break;
        case 4:
          a3.label++;
          return { value: s4[1], done: false };
        case 5:
          a3.label++;
          n3 = s4[1];
          s4 = [0];
          continue;
        case 7:
          s4 = a3.ops.pop();
          a3.trys.pop();
          continue;
        default:
          if (!(o3 = a3.trys, o3 = o3.length > 0 && o3[o3.length - 1]) && (s4[0] === 6 || s4[0] === 2)) {
            a3 = 0;
            continue;
          }
          if (s4[0] === 3 && (!o3 || s4[1] > o3[0] && s4[1] < o3[3])) {
            a3.label = s4[1];
            break;
          }
          if (s4[0] === 6 && a3.label < o3[1]) {
            a3.label = o3[1];
            o3 = s4;
            break;
          }
          if (o3 && a3.label < o3[2]) {
            a3.label = o3[2];
            a3.ops.push(s4);
            break;
          }
          if (o3[2]) a3.ops.pop();
          a3.trys.pop();
          continue;
      }
      s4 = t3.call(e3, a3);
    } catch (e4) {
      s4 = [6, e4];
      n3 = 0;
    } finally {
      r3 = o3 = 0;
    }
    if (s4[0] & 5) throw s4[1];
    return { value: s4[0] ? s4[1] : void 0, done: true };
  }
}
var R = Object.defineProperty;
var S = function(e3, t3, r3) {
  return t3 in e3 ? R(e3, t3, { enumerable: true, configurable: true, writable: true, value: r3 }) : e3[t3] = r3;
};
var U = function(e3, t3, r3) {
  return S(e3, (typeof t3 === "undefined" ? "undefined" : O(t3)) != "symbol" ? t3 + "" : t3, r3);
};
var W = (function(e3) {
  "use strict";
  f(t3, e3);
  function t3() {
    i(this, t3);
    var e4;
    e4 = a(this, t3, arguments);
    U(e4, "type", "WhopCheckoutError");
    return e4;
  }
  return t3;
})(E(Error));
var A = (function(e3) {
  "use strict";
  f(t3, e3);
  function t3(e4) {
    i(this, t3);
    var r3;
    r3 = a(this, t3, [e4 !== null && e4 !== void 0 ? e4 : "Timeout waiting for embed response"]);
    U(r3, "name", "WhopCheckoutRpcTimeoutError");
    return r3;
  }
  return t3;
})(W);
var C = (function(e3) {
  "use strict";
  f(t3, e3);
  function t3(e4) {
    i(this, t3);
    var r3;
    r3 = a(this, t3, [e4 !== null && e4 !== void 0 ? e4 : "Aborted waiting for embed response"]);
    U(r3, "name", "WhopCheckoutRpcAbortedError");
    return r3;
  }
  return t3;
})(W);
var L = (function(e3) {
  "use strict";
  f(t3, e3);
  function t3() {
    i(this, t3);
    var e4;
    e4 = a(this, t3, arguments);
    U(e4, "name", "WhopCheckoutSetEmailError");
    return e4;
  }
  return t3;
})(W);
var x = (function(e3) {
  "use strict";
  f(t3, e3);
  function t3() {
    i(this, t3);
    var e4;
    e4 = a(this, t3, arguments);
    U(e4, "name", "WhopCheckoutSetAddressError");
    return e4;
  }
  return t3;
})(W);
var D = (function(e3) {
  "use strict";
  f(t3, e3);
  function t3() {
    i(this, t3);
    var e4;
    e4 = a(this, t3, arguments);
    U(e4, "name", "WhopCheckoutGetAddressError");
    return e4;
  }
  return t3;
})(W);
var M = ["resize", "center", "complete", "state", "get-email-result", "set-email-result", "set-address-result", "get-address-result", "address-validation-error", "payment-request-merchant-validation-result", "payment-request-update-request", "payment-request-create-request", "payment-request-event-result"];
function I(e3) {
  return O(e3.data) == "object" && e3.data !== null && "event" in e3.data && M.includes(e3.data.event);
}
function T(e3, t3) {
  return I(e3) && e3.data.event === t3;
}
var N = [];
function F(e3) {
  return N[e3] || (N[e3] = (e3 + 256).toString(16).slice(1));
}
function B() {
  var e3 = new Uint8Array(16);
  if ((typeof crypto === "undefined" ? "undefined" : O(crypto)) < "u" && typeof crypto.getRandomValues == "function") crypto.getRandomValues(e3);
  else for (var t3 = 0; t3 < 16; t3++) e3[t3] = Math.random() * 256 | 0;
  return e3[6] = e3[6] & 15 | 64, e3[8] = e3[8] & 63 | 128, F(e3[0]) + F(e3[1]) + F(e3[2]) + F(e3[3]) + "-" + F(e3[4]) + F(e3[5]) + "-" + F(e3[6]) + F(e3[7]) + "-" + F(e3[8]) + F(e3[9]) + "-" + F(e3[10]) + F(e3[11]) + F(e3[12]) + F(e3[13]) + F(e3[14]) + F(e3[15]);
}
function G(e3, t3, r3, n3) {
  var o3 = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 2e3, a3 = arguments.length > 5 ? arguments[5] : void 0;
  var i3;
  var s3 = new URL(e3.src).origin, u3 = B();
  return (i3 = e3.contentWindow) === null || i3 === void 0 ? void 0 : i3.postMessage(w(y({}, t3), { __scope: "whop-embedded-checkout", event_id: u3 }), s3), new Promise(function(t4, i4) {
    if (a3 === null || a3 === void 0 ? void 0 : a3.aborted) {
      i4(new Error("Aborted"));
      return;
    }
    var s4 = function() {
      l3 && clearTimeout(l3), window.removeEventListener("message", d3), a3 === null || a3 === void 0 ? void 0 : a3.removeEventListener("abort", c3);
    }, l3 = o3 !== null ? setTimeout(function() {
      i4(new A()), s4();
    }, o3) : null, c3 = function() {
      i4(new C()), s4();
    };
    a3 === null || a3 === void 0 ? void 0 : a3.addEventListener("abort", c3, { once: true });
    var d3 = function(o4) {
      if (o4.source === e3.contentWindow && T(o4, r3) && o4.data.event === r3 && o4.data.event_id === u3) {
        s4();
        try {
          t4(n3(o4.data));
        } catch (e4) {
          i4(e4);
        }
      }
    };
    window.addEventListener("message", d3);
  });
}
var J = (function() {
  "use strict";
  function e3(t3, r3, n3, o3) {
    i(this, e3);
    this.iframe = t3;
    this.methodData = r3;
    this.details = n3;
    this.options = o3;
    U(this, "id", B());
    U(this, "abortController");
  }
  l(e3, [{ key: "active", get: function t3() {
    var t4;
    return (t4 = e3.activeRequests.get(this.iframe)) !== null && t4 !== void 0 ? t4 : false;
  } }, { key: "updateMethodData", value: function e4(e4) {
    this.methodData = e4;
  } }, { key: "updateDetails", value: function e4(e4) {
    this.details = e4;
  } }, { key: "updateOptions", value: function e4(e4) {
    this.options = e4;
  } }, { key: "getResult", value: function e4() {
    return o(function() {
      var e5, t3, r3, n3, a3, i3, s3, u3, l3, c3;
      return j(this, function(d3) {
        switch (d3.label) {
          case 0:
            e5 = this;
            t3 = new AbortController();
            this.abortController = t3;
            r3 = new PaymentRequest(this.methodData, this.details, this.options);
            r3.onmerchantvalidation = function(n4) {
              return o(function() {
                var e6, o3;
                return j(this, function(a4) {
                  switch (a4.label) {
                    case 0:
                      e6 = { event: "payment-request-merchant-validation-request", validationURL: n4.validationURL, methodName: n4.methodName, id: this.id };
                      return [4, G(this.iframe, e6, "payment-request-merchant-validation-result", function(e7) {
                        return e7;
                      }, null, t3.signal).catch(function() {
                        return null;
                      })];
                    case 1:
                      o3 = a4.sent();
                      (o3 === null || o3 === void 0 ? void 0 : o3.ok) ? n4.complete(o3.merchantSession) : r3.abort();
                      return [2];
                  }
                });
              }).call(e5);
            }, r3.onshippingaddresschange = function(e6) {
              e6.updateWith({});
            }, r3.onpaymentmethodchange = function(r4) {
              return o(function() {
                var e6, n4;
                return j(this, function(o3) {
                  switch (o3.label) {
                    case 0:
                      e6 = { event: "payment-request-payment-method-change-request", id: this.id, data: r4.methodDetails };
                      return [4, G(this.iframe, e6, "payment-request-event-result", function(e7) {
                        return e7;
                      }, null, t3.signal).catch(function() {
                        return null;
                      })];
                    case 1:
                      n4 = o3.sent();
                      (n4 === null || n4 === void 0 ? void 0 : n4.ok) ? r4.updateWith(n4.details) : r4.updateWith({});
                      return [2];
                  }
                });
              }).call(e5);
            };
            n3 = r3;
            d3.label = 1;
          case 1:
            d3.trys.push([1, , 6, 7]);
            u3 = new Promise(function(e6, r4) {
              var n4 = function() {
                r4(new Error("Aborted"));
              };
              t3.signal.addEventListener("abort", n4, { once: true }), a3 = function() {
                t3.signal.removeEventListener("abort", n4);
              };
            });
            return [4, Promise.race([r3.show().then(function(e6) {
              return n3 = null, e6;
            }), u3])];
          case 2:
            l3 = d3.sent(), c3 = this.methodData.find(function(e6) {
              return e6.supportedMethods === l3.methodName;
            });
            if (!!c3) return [3, 4];
            return [4, l3.complete("fail")];
          case 3:
            throw d3.sent(), new Error("PaymentRequest failed to complete because of missing method data");
          case 4:
            return [4, l3.complete("success")];
          case 5:
            return [2, (d3.sent(), { method: l3.methodName, response: { payerEmail: l3.payerEmail, details: JSON.parse(JSON.stringify(l3.details)) }, options: this.options, methodData: { applePayMerchantIdentifier: c3 === null || c3 === void 0 ? void 0 : (i3 = c3.data) === null || i3 === void 0 ? void 0 : i3.merchantIdentifier, requestShipping: c3 === null || c3 === void 0 ? void 0 : (s3 = c3.data) === null || s3 === void 0 ? void 0 : s3.requiredShippingContactFields } })];
          case 6:
            n3 === null || n3 === void 0 ? void 0 : n3.abort(), a3 === null || a3 === void 0 ? void 0 : a3(), this.abortController = void 0;
            return [7];
          case 7:
            return [2];
        }
      });
    }).call(this);
  } }, { key: "abort", value: function e4() {
    var e5;
    (e5 = this.abortController) === null || e5 === void 0 ? void 0 : e5.abort();
  } }], [{ key: "get", value: function t3(t3) {
    var r3;
    return (r3 = e3.requests.get(t3)) !== null && r3 !== void 0 ? r3 : null;
  } }, { key: "create", value: function t3(t3, r3, n3, o3) {
    var a3 = new e3(t3, r3, n3, o3);
    return e3.requests.set(t3, a3), a3;
  } }, { key: "remove", value: function t3(t3) {
    var r3;
    (r3 = e3.requests.get(t3)) === null || r3 === void 0 ? void 0 : r3.abort(), e3.requests.delete(t3), e3.activeRequests.delete(t3);
  } }, { key: "setActive", value: function t3(t3, r3) {
    e3.activeRequests.set(t3, r3);
  } }]);
  return e3;
})();
U(J, "requests", /* @__PURE__ */ new WeakMap()), U(J, "activeRequests", /* @__PURE__ */ new WeakMap());
var V = J;
var z = 1;
function $(e3, t3) {
  function r3(r4) {
    if (r4.source === e3.contentWindow && I(r4)) {
      switch (r4.data.event) {
        case "payment-request-create-request": {
          try {
            var n3;
            var o3 = V.create(e3, r4.data.method_data, r4.data.details, r4.data.options), a3 = { __scope: "whop-embedded-checkout", event: "payment-request-create-result", event_id: r4.data.event_id, ok: true, id: o3.id }, i3 = new URL(e3.src).origin;
            (n3 = e3.contentWindow) === null || n3 === void 0 ? void 0 : n3.postMessage(a3, i3);
          } catch (t4) {
            var s3;
            var u3 = { __scope: "whop-embedded-checkout", event: "payment-request-create-result", event_id: r4.data.event_id, ok: false, error: v(t4, Error) ? t4.message : "Unknown error" }, l3 = new URL(e3.src).origin;
            (s3 = e3.contentWindow) === null || s3 === void 0 ? void 0 : s3.postMessage(u3, l3);
          }
          return;
        }
        case "payment-request-update-request": {
          "active" in r4.data && typeof r4.data.active == "boolean" && V.setActive(e3, r4.data.active);
          try {
            var c3;
            var d3 = V.get(e3);
            if (!d3) throw new Error("Payment request not found");
            "method_data" in r4.data && r4.data.method_data && d3.updateMethodData(r4.data.method_data), "details" in r4.data && r4.data.details && d3.updateDetails(r4.data.details), "options" in r4.data && r4.data.options && d3.updateOptions(r4.data.options);
            var f3 = { __scope: "whop-embedded-checkout", event: "payment-request-update-result", event_id: r4.data.event_id, ok: true }, h3 = new URL(e3.src).origin;
            (c3 = e3.contentWindow) === null || c3 === void 0 ? void 0 : c3.postMessage(f3, h3);
          } catch (t4) {
            var p3;
            var m3 = { __scope: "whop-embedded-checkout", event: "payment-request-update-result", event_id: r4.data.event_id, ok: false, error: v(t4, Error) ? t4.message : "Unknown error" }, y3 = new URL(e3.src).origin;
            (p3 = e3.contentWindow) === null || p3 === void 0 ? void 0 : p3.postMessage(m3, y3);
          }
          return;
        }
      }
      t3(r4.data);
    }
  }
  return window.addEventListener("message", r3), function() {
    window.removeEventListener("message", r3);
  };
}
function H(e3, t3) {
  var r3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 2e3;
  return o(function() {
    return j(this, function(n3) {
      return [2, G(e3, { event: "set-email", email: t3 }, "set-email-result", function(e4) {
        if (!e4.ok) throw new L(e4.error);
      }, r3)];
    });
  })();
}
function K(e3) {
  var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2e3;
  return o(function() {
    return j(this, function(r3) {
      return [2, G(e3, { event: "get-email" }, "get-email-result", function(e4) {
        return e4.email;
      }, t3)];
    });
  })();
}
function Q(e3, t3) {
  var r3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 2e3;
  return o(function() {
    return j(this, function(n3) {
      return [2, G(e3, { event: "set-address", address: t3 }, "set-address-result", function(e4) {
        if (!e4.ok) throw new x(e4.error);
      }, r3)];
    });
  })();
}
function X(e3) {
  var t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2e3;
  return o(function() {
    return j(this, function(r3) {
      return [2, G(e3, { event: "get-address" }, "get-address-result", function(e4) {
        if (!e4.ok) throw new D(e4.error);
        return { address: e4.address, isComplete: e4.is_complete };
      }, t3)];
    });
  })();
}
function Y(e3, t3) {
  return o(function() {
    var t4, r3, n3, o3, a3;
    return j(this, function(i3) {
      switch (i3.label) {
        case 0:
          r3 = { __scope: "whop-embedded-checkout", event: "submit", event_id: B() }, n3 = V.get(e3);
          if (!(n3 === null || n3 === void 0 ? void 0 : n3.active)) return [3, 2];
          return [4, n3.getResult()];
        case 1:
          o3 = i3.sent();
          r3.payment_request_result = o3;
          i3.label = 2;
        case 2:
          a3 = new URL(e3.src).origin;
          (t4 = e3.contentWindow) === null || t4 === void 0 ? void 0 : t4.postMessage(r3, a3);
          return [2];
      }
    });
  })();
}
function Z(e3) {
  if (e3 === "off_session") return "off_session";
}
function ee(e3, t3, r3, n3, o3, a3, i3, s3, u3, l3, c3, d3, f3, v3, h3, p3, m3) {
  var y3, b3, w2, g2, _3, O2, k2;
  var E2 = new URL("/embedded/checkout/".concat(e3, "/"), n3 !== null && n3 !== void 0 ? n3 : "https://whop.com/");
  E2.searchParams.set("h", window.location.origin), E2.searchParams.set("v", z.toString());
  try {
    var q3 = window;
    for (; q3.parent !== q3; ) q3 = q3.parent;
    var j2 = q3.location.hostname;
    q3.location.protocol === "https:" && j2 && E2.searchParams.set("t", j2);
  } catch (e4) {
  }
  if (t3 && E2.searchParams.set("theme", t3), r3 && E2.searchParams.set("session", r3), o3 && E2.searchParams.set("hide_price", "true"), a3 && E2.searchParams.set("skip_redirect", "true"), c3 && E2.searchParams.set("hide_submit_button", "true"), d3 && E2.searchParams.set("hide_tos", "true"), f3 && E2.searchParams.set("email.hidden", "1"), v3 && E2.searchParams.set("email.disabled", "1"), h3 && E2.searchParams.set("address.hidden", "1"), p3 && E2.searchParams.set("a", p3), m3 && E2.searchParams.set("setup_future_usage", m3), i3) {
    var R3 = true, S2 = false, U3 = void 0, W3 = true, A2 = false, C2 = void 0;
    try {
      for (var L3 = Object.entries(i3).sort(function(e4, t4) {
        return e4[0].localeCompare(t4[0]);
      })[Symbol.iterator](), x3; !(W3 = (x3 = L3.next()).done); W3 = true) {
        var D3 = P(x3.value, 2), M3 = D3[0], I2 = D3[1];
        if (M3.startsWith("utm_")) if (Array.isArray(I2)) try {
          for (var T3 = I2[Symbol.iterator](), N3; !(R3 = (N3 = T3.next()).done); R3 = true) {
            var F3 = N3.value;
            E2.searchParams.append(M3, F3);
          }
        } catch (e4) {
          S2 = true;
          U3 = e4;
        } finally {
          try {
            if (!R3 && T3.return != null) {
              T3.return();
            }
          } finally {
            if (S2) {
              throw U3;
            }
          }
        }
        else E2.searchParams.set(M3, I2);
      }
    } catch (e4) {
      A2 = true;
      C2 = e4;
    } finally {
      try {
        if (!W3 && L3.return != null) {
          L3.return();
        }
      } finally {
        if (A2) {
          throw C2;
        }
      }
    }
  }
  if (s3) {
    var B3 = true, G3 = false, J3 = void 0, V3 = true, $3 = false, H3 = void 0;
    try {
      for (var K3 = Object.entries(s3)[Symbol.iterator](), Q3; !(V3 = (Q3 = K3.next()).done); V3 = true) {
        var X3 = P(Q3.value, 2), Y3 = X3[0], Z3 = X3[1];
        if (Z3) try {
          for (var ee2 = Object.entries(Z3)[Symbol.iterator](), et2; !(B3 = (et2 = ee2.next()).done); B3 = true) {
            var er2 = P(et2.value, 2), en = er2[0], eo = er2[1];
            E2.searchParams.set("style.".concat(Y3, ".").concat(en), eo.toString());
          }
        } catch (e4) {
          G3 = true;
          J3 = e4;
        } finally {
          try {
            if (!B3 && ee2.return != null) {
              ee2.return();
            }
          } finally {
            if (G3) {
              throw J3;
            }
          }
        }
      }
    } catch (e4) {
      $3 = true;
      H3 = e4;
    } finally {
      try {
        if (!V3 && K3.return != null) {
          K3.return();
        }
      } finally {
        if ($3) {
          throw H3;
        }
      }
    }
  }
  var ea = true, ei = false, es = void 0;
  if ((u3 === null || u3 === void 0 ? void 0 : u3.email) && E2.searchParams.set("email", u3.email), (u3 === null || u3 === void 0 ? void 0 : (y3 = u3.address) === null || y3 === void 0 ? void 0 : y3.name) && E2.searchParams.set("name", u3.address.name), (u3 === null || u3 === void 0 ? void 0 : (b3 = u3.address) === null || b3 === void 0 ? void 0 : b3.line1) && E2.searchParams.set("address.line1", u3.address.line1), (u3 === null || u3 === void 0 ? void 0 : (w2 = u3.address) === null || w2 === void 0 ? void 0 : w2.line2) && E2.searchParams.set("address.line2", u3.address.line2), (u3 === null || u3 === void 0 ? void 0 : (g2 = u3.address) === null || g2 === void 0 ? void 0 : g2.city) && E2.searchParams.set("address.city", u3.address.city), (u3 === null || u3 === void 0 ? void 0 : (_3 = u3.address) === null || _3 === void 0 ? void 0 : _3.country) && E2.searchParams.set("address.country", u3.address.country), (u3 === null || u3 === void 0 ? void 0 : (O2 = u3.address) === null || O2 === void 0 ? void 0 : O2.state) && E2.searchParams.set("address.state", u3.address.state), (u3 === null || u3 === void 0 ? void 0 : (k2 = u3.address) === null || k2 === void 0 ? void 0 : k2.postalCode) && E2.searchParams.set("address.postal_code", u3.address.postalCode), l3) try {
    for (var eu = Object.entries(l3)[Symbol.iterator](), el; !(ea = (el = eu.next()).done); ea = true) {
      var ec = P(el.value, 2), ed = ec[0], ef = ec[1];
      ef && E2.searchParams.set("theme.".concat(ed), typeof ef == "boolean" ? "1" : ef);
    }
  } catch (e4) {
    ei = true;
    es = e4;
  } finally {
    try {
      if (!ea && eu.return != null) {
        eu.return();
      }
    } finally {
      if (ei) {
        throw es;
      }
    }
  }
  return E2.toString();
}
var et = ["allow-forms", "allow-modals", "allow-orientation-lock", "allow-pointer-lock", "allow-popups", "allow-presentation", "allow-same-origin", "allow-scripts", "allow-top-navigation", "allow-top-navigation-by-user-activation", "allow-downloads"];
var er = "document-domain; execution-while-not-rendered; execution-while-out-of-viewport; payment; paymentRequest; sync-script;";

// node_modules/@whop/checkout/dist/static/checkout/react/index.mjs
var import_react = __toESM(require_react(), 1);
var import_react2 = __toESM(require_react(), 1);
var import_react3 = __toESM(require_react(), 1);
var import_react4 = __toESM(require_react(), 1);
var import_react5 = __toESM(require_react(), 1);
function e2(e3, r3) {
  if (r3 == null || r3 > e3.length) r3 = e3.length;
  for (var t3 = 0, n3 = new Array(r3); t3 < r3; t3++) n3[t3] = e3[t3];
  return n3;
}
function r2(e3) {
  if (Array.isArray(e3)) return e3;
}
function t2(r3) {
  if (Array.isArray(r3)) return e2(r3);
}
function n2(e3, r3, t3, n3, o3, i3, a3) {
  try {
    var u3 = e3[i3](a3);
    var c3 = u3.value;
  } catch (e4) {
    t3(e4);
    return;
  }
  if (u3.done) {
    r3(c3);
  } else {
    Promise.resolve(c3).then(n3, o3);
  }
}
function o2(e3) {
  return function() {
    var r3 = this, t3 = arguments;
    return new Promise(function(o3, i3) {
      var a3 = e3.apply(r3, t3);
      function u3(e4) {
        n2(a3, o3, i3, u3, c3, "next", e4);
      }
      function c3(e4) {
        n2(a3, o3, i3, u3, c3, "throw", e4);
      }
      u3(void 0);
    });
  };
}
function i2(e3, r3, t3) {
  if (r3 in e3) {
    Object.defineProperty(e3, r3, { value: t3, enumerable: true, configurable: true, writable: true });
  } else {
    e3[r3] = t3;
  }
  return e3;
}
function a2(e3) {
  if (typeof Symbol !== "undefined" && e3[Symbol.iterator] != null || e3["@@iterator"] != null) return Array.from(e3);
}
function u2(e3, r3) {
  var t3 = e3 == null ? null : typeof Symbol !== "undefined" && e3[Symbol.iterator] || e3["@@iterator"];
  if (t3 == null) return;
  var n3 = [];
  var o3 = true;
  var i3 = false;
  var a3, u3;
  try {
    for (t3 = t3.call(e3); !(o3 = (a3 = t3.next()).done); o3 = true) {
      n3.push(a3.value);
      if (r3 && n3.length === r3) break;
    }
  } catch (e4) {
    i3 = true;
    u3 = e4;
  } finally {
    try {
      if (!o3 && t3["return"] != null) t3["return"]();
    } finally {
      if (i3) throw u3;
    }
  }
  return n3;
}
function c2() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function l2() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function f2(e3) {
  for (var r3 = 1; r3 < arguments.length; r3++) {
    var t3 = arguments[r3] != null ? arguments[r3] : {};
    var n3 = Object.keys(t3);
    if (typeof Object.getOwnPropertySymbols === "function") {
      n3 = n3.concat(Object.getOwnPropertySymbols(t3).filter(function(e4) {
        return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
      }));
    }
    n3.forEach(function(r4) {
      i2(e3, r4, t3[r4]);
    });
  }
  return e3;
}
function s2(e3, r3) {
  var t3 = Object.keys(e3);
  if (Object.getOwnPropertySymbols) {
    var n3 = Object.getOwnPropertySymbols(e3);
    if (r3) {
      n3 = n3.filter(function(r4) {
        return Object.getOwnPropertyDescriptor(e3, r4).enumerable;
      });
    }
    t3.push.apply(t3, n3);
  }
  return t3;
}
function d2(e3, r3) {
  r3 = r3 != null ? r3 : {};
  if (Object.getOwnPropertyDescriptors) {
    Object.defineProperties(e3, Object.getOwnPropertyDescriptors(r3));
  } else {
    s2(Object(r3)).forEach(function(t3) {
      Object.defineProperty(e3, t3, Object.getOwnPropertyDescriptor(r3, t3));
    });
  }
  return e3;
}
function p2(e3, r3) {
  if (e3 == null) return {};
  var t3 = b2(e3, r3);
  var n3, o3;
  if (Object.getOwnPropertySymbols) {
    var i3 = Object.getOwnPropertySymbols(e3);
    for (o3 = 0; o3 < i3.length; o3++) {
      n3 = i3[o3];
      if (r3.indexOf(n3) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(e3, n3)) continue;
      t3[n3] = e3[n3];
    }
  }
  return t3;
}
function b2(e3, r3) {
  if (e3 == null) return {};
  var t3 = {};
  var n3 = Object.keys(e3);
  var o3, i3;
  for (i3 = 0; i3 < n3.length; i3++) {
    o3 = n3[i3];
    if (r3.indexOf(o3) >= 0) continue;
    t3[o3] = e3[o3];
  }
  return t3;
}
function m2(e3, t3) {
  return r2(e3) || u2(e3, t3) || v2(e3, t3) || c2();
}
function h2(e3) {
  return t2(e3) || a2(e3) || v2(e3) || l2();
}
function v2(r3, t3) {
  if (!r3) return;
  if (typeof r3 === "string") return e2(r3, t3);
  var n3 = Object.prototype.toString.call(r3).slice(8, -1);
  if (n3 === "Object" && r3.constructor) n3 = r3.constructor.name;
  if (n3 === "Map" || n3 === "Set") return Array.from(n3);
  if (n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3)) return e2(r3, t3);
}
function y2(e3, r3) {
  var t3, n3, o3, i3 = { label: 0, sent: function() {
    if (o3[0] & 1) throw o3[1];
    return o3[1];
  }, trys: [], ops: [] }, a3 = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
  return a3.next = u3(0), a3["throw"] = u3(1), a3["return"] = u3(2), typeof Symbol === "function" && (a3[Symbol.iterator] = function() {
    return this;
  }), a3;
  function u3(e4) {
    return function(r4) {
      return c3([e4, r4]);
    };
  }
  function c3(u4) {
    if (t3) throw new TypeError("Generator is already executing.");
    while (a3 && (a3 = 0, u4[0] && (i3 = 0)), i3) try {
      if (t3 = 1, n3 && (o3 = u4[0] & 2 ? n3["return"] : u4[0] ? n3["throw"] || ((o3 = n3["return"]) && o3.call(n3), 0) : n3.next) && !(o3 = o3.call(n3, u4[1])).done) return o3;
      if (n3 = 0, o3) u4 = [u4[0] & 2, o3.value];
      switch (u4[0]) {
        case 0:
        case 1:
          o3 = u4;
          break;
        case 4:
          i3.label++;
          return { value: u4[1], done: false };
        case 5:
          i3.label++;
          n3 = u4[1];
          u4 = [0];
          continue;
        case 7:
          u4 = i3.ops.pop();
          i3.trys.pop();
          continue;
        default:
          if (!(o3 = i3.trys, o3 = o3.length > 0 && o3[o3.length - 1]) && (u4[0] === 6 || u4[0] === 2)) {
            i3 = 0;
            continue;
          }
          if (u4[0] === 3 && (!o3 || u4[1] > o3[0] && u4[1] < o3[3])) {
            i3.label = u4[1];
            break;
          }
          if (u4[0] === 6 && i3.label < o3[1]) {
            i3.label = o3[1];
            o3 = u4;
            break;
          }
          if (o3 && i3.label < o3[2]) {
            i3.label = o3[2];
            i3.ops.push(u4);
            break;
          }
          if (o3[2]) i3.ops.pop();
          i3.trys.pop();
          continue;
      }
      u4 = r3.call(e3, i3);
    } catch (e4) {
      u4 = [6, e4];
      n3 = 0;
    } finally {
      t3 = o3 = 0;
    }
    if (u4[0] & 5) throw u4[1];
    return { value: u4[0] ? u4[1] : void 0, done: true };
  }
}
function V2() {
  return function() {
  };
}
function M2() {
  return (0, import_react2.useSyncExternalStore)(V2, function() {
    return true;
  }, function() {
    return false;
  });
}
var z2 = ["tomato", "red", "ruby", "crimson", "pink", "plum", "purple", "violet", "iris", "cyan", "teal", "jade", "green", "grass", "brown", "blue", "orange", "indigo", "sky", "mint", "yellow", "amber", "lime", "lemon", "magenta", "gold", "bronze", "gray"];
function F2(e3) {
  return e3 ? z2.includes(e3) : false;
}
var K2 = Symbol("none");
function B2(e3) {
  var r3 = (0, import_react3.useRef)(K2);
  return r3.current === K2 && (r3.current = e3()), r3;
}
function $2() {
  for (var e3 = arguments.length, r3 = new Array(e3), t3 = 0; t3 < e3; t3++) {
    r3[t3] = arguments[t3];
  }
  var n3 = B2(function() {
    return ee.apply(void 0, h2(r3));
  }), o3 = n3.current;
  return q2.apply(void 0, [o3].concat(h2(r3))), o3;
}
function q2(e3) {
  for (var r3 = arguments.length, t3 = new Array(r3 > 1 ? r3 - 1 : 0), n3 = 1; n3 < r3; n3++) {
    t3[n3 - 1] = arguments[n3];
  }
  var o3 = m2(t3, 17), i3 = o3[0], a3 = o3[1], u3 = o3[2], c3 = o3[3], l3 = o3[4], f3 = o3[5], s3 = o3[6], d3 = o3[7], p3 = o3[8], b3 = o3[9], h3 = o3[10], v3 = o3[11], y3 = o3[12], w2 = o3[13], g2 = o3[14], O2 = o3[15], k2 = o3[16];
  var j2 = (0, import_react4.useMemo)(function() {
    return ee(i3, a3, u3, void 0, l3, f3, s3, d3, p3, b3, h3, v3, y3, w2, g2, O2, k2);
  }, [i3, a3, u3, l3, f3, s3, d3, p3, b3, h3, v3, y3, w2, g2, O2, k2]);
  (0, import_react4.useEffect)(function() {
    e3 !== j2 && true && console.warn("[WhopCheckoutEmbed] iframeUrl changed from ".concat(e3, " to ").concat(j2, ". Updating props on the checkout embed is not supported. Please rerender the component."));
  }, [e3, j2]);
}
var L2 = et.join(" ");
var Q2 = (0, import_react.forwardRef)(function(e3, r3) {
  var t3 = e3.planId, n3 = e3.theme, i3 = e3.sessionId, a3 = e3.hidePrice, u3 = a3 === void 0 ? false : a3, c3 = e3.skipRedirect, l3 = c3 === void 0 ? false : c3, f3 = e3.onComplete, s3 = e3.onStateChange, d3 = e3.onAddressValidationError, p3 = e3.utm, b3 = e3.styles, h3 = e3.prefill, v3 = e3.themeOptions, P2 = e3.hideSubmitButton, A2 = P2 === void 0 ? false : P2, W3 = e3.hideTermsAndConditions, U3 = W3 === void 0 ? false : W3, V3 = e3.hideEmail, M3 = V3 === void 0 ? false : V3, z3 = e3.disableEmail, H3 = z3 === void 0 ? false : z3, K3 = e3.hideAddressForm, B3 = K3 === void 0 ? false : K3, G3 = e3.affiliateCode, J3 = e3.setupFutureUsage;
  var q3 = (0, import_react.useMemo)(function() {
    var e4;
    return { accentColor: F2(v3 === null || v3 === void 0 ? void 0 : v3.accentColor) ? v3.accentColor : void 0, highContrast: (e4 = v3 === null || v3 === void 0 ? void 0 : v3.highContrast) !== null && e4 !== void 0 ? e4 : false };
  }, [v3 === null || v3 === void 0 ? void 0 : v3.accentColor, v3 === null || v3 === void 0 ? void 0 : v3.highContrast]), Q3 = $2(t3, n3, i3, void 0, u3, l3 || !!f3, p3, b3, h3, q3, A2, U3, M3, H3, B3, G3, Z(J3)), X3 = (0, import_react.useRef)(null), Y3 = m2((0, import_react.useState)(480), 2), Z3 = Y3[0], ee2 = Y3[1];
  return (0, import_react.useEffect)(function() {
    var e4 = X3.current;
    if (e4) return $(e4, function(r4) {
      switch (r4.event) {
        case "resize": {
          ee2(r4.height);
          break;
        }
        case "center": {
          e4.scrollIntoView({ block: "center", inline: "center" });
          break;
        }
        case "complete": {
          f3 && f3(r4.plan_id, r4.receipt_id);
          break;
        }
        case "state": {
          s3 && s3(r4.state);
          break;
        }
        case "address-validation-error": {
          d3 && d3({ error_message: r4.error_message, error_code: r4.error_code });
          break;
        }
      }
    });
  }, [f3, s3, d3]), (0, import_react.useEffect)(function() {
    return function() {
      X3.current && V.remove(X3.current);
    };
  }, []), (0, import_react.useImperativeHandle)(r3, function() {
    return { submit: function(e4) {
      return o2(function() {
        return y2(this, function(r4) {
          switch (r4.label) {
            case 0:
              if (!X3.current) return [3, 2];
              return [4, Y(X3.current, e4)];
            case 1:
              return [2, r4.sent()];
            case 2:
              return [2];
          }
        });
      })();
    }, getEmail: function(e4) {
      if (!X3.current) throw new Error("Whop embedded checkout frame not found");
      return K(X3.current, e4);
    }, setEmail: function(e4, r4) {
      if (!X3.current) throw new Error("Whop embedded checkout frame not found");
      return H(X3.current, e4, r4);
    }, setAddress: function(e4, r4) {
      if (!X3.current) throw new Error("Whop embedded checkout frame not found");
      return Q(X3.current, e4, r4);
    }, getAddress: function(e4) {
      if (!X3.current) throw new Error("Whop embedded checkout frame not found");
      return X(X3.current, e4);
    } };
  }, []), import_react.default.createElement("iframe", { ref: X3, allow: er, sandbox: L2, title: "Whop Embedded Checkout", src: Q3 !== null && Q3 !== void 0 ? Q3 : void 0, style: { border: "none", height: "".concat(Z3, "px"), width: "100%", overflow: "hidden" } });
});
Q2.displayName = "WhopCheckoutEmbedInner";
var X2 = (0, import_react.forwardRef)(function(e3, r3) {
  var t3 = e3.fallback, n3 = p2(e3, ["fallback"]);
  return M2() ? import_react.default.createElement(Q2, d2(f2({}, n3), { ref: r3 })) : t3 !== null && t3 !== void 0 ? t3 : null;
});
X2.displayName = "WhopCheckoutEmbed";
function Z2() {
  return (0, import_react5.useRef)(null);
}
export {
  X2 as WhopCheckoutEmbed,
  z2 as accentColorValues,
  F2 as isAccentColor,
  Z2 as useCheckoutEmbedControls
};
//# sourceMappingURL=@whop_checkout_react.js.map
